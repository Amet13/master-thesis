\section{Вариантный анализ}

Выберем гипервизор для организации виртуализации при помощи метода анализа иерархии (\hyperlink{mai}{МАИ}).
Метод состоит в разложении проблемы на все более простые составные части и дальнейшей обработке последовательных суждений лица принимающего решение по парным сравнениям.
В результате может быть выражена интенсивность или относительная степень взаимодействия элементов в иерархии.
В результате получаются численные выражения этих суждений.
МАИ включает в себя процедуры синтеза множественных суждений, получение приоритетных критериев и нахождение альтернативных решений.
Полученные знания являются оценками в шкале отношений и соответствуют жестким оценкам \cite{var-analyz}.

В качестве альтернатив используются различные гипервизоры, на которых может быть реализована виртуализация для облачной среды.
В зависимости от выбранного гипервизорабудет выбран тот или другой интерфейс взаимодействия с пользователем, так как каждая система имеет в своем составе такой интерфейс.
Критерием эффективности являются: цена, масштабируемость, отказоустойчивость, интерфейсы управления.

Альтернативы, которые участвуют в вариантном анализе:
\begin{itemize}
  \item \hyperlink{kvm}{KVM} (альтернатива А);
  \item Hyper-V (альтернатива Б);
  \item VMware vSphere (альтернатива В).
\end{itemize}

Критерии, по которым выбирается тот, или иной алгоритм:
\begin{itemize}
  \item цена (А1);
  \item масштабируемость (А2);
  \item отказоустойчивость (А3);
  \item интерфейсы управления (А4).
\end{itemize}

\subsection{Построение матриц парных сравнений второго уровня}

На основе вышеперечисленных критериев построим матрицу парных сравнений второго уровня, где строки и столбцы составляют выбранные критерии.
Сравнение критериев проведём по шкале относительной важности согласно с табл. \ref{crit}.
\begin{table}[H]
  \caption{Оценка критериев}\label{crit}
  \begin{tabular}{|p{4cm}|p{12cm}|}
  \hline Интенсивность относительной важности & \multicolumn{1}{|c|}{Определение} \\
  \hline 1 & если элементы $A_i$ и $A_k$ одинаково важны \\
  \hline 3 & если элементы $A_i$ и $A_k$ одинаково важны \\
  \hline 5 & если элемент $A_i$ значительно важнее элемента $A_k$ \\
  \hline 7 & если элемент $A_i$ явно важнее элемента $A_k$ \\
  \hline 9 & если элемент $A_i$ по своей значимости абсолютно превосходит элемент $A_k$ \\
  \hline 2,4,6,8 & используются для облегчения компромиссов между оценками, слегка отличающимися от основных чисел \\
  \hline
  \end{tabular}
\end{table}

В результате выполнения попарных сравнений, построили матрицу, представленную в табл. \ref{matrix}.
\begin{table}[H]
  \caption{Матрица попарных сравнений второго уровня}\label{matrix}
  \begin{tabular}{|l|l|l|l|l|l|}
  \hline \multicolumn{2}{|c|}{Критерии} & A1 & A2 & A3 & A4 \\
  \hline A1 & Цена & 1 & 1/5 & 1/7 & 3 \\
  \hline A2 & Масштабируемость & 5 & 1 & 1/5 & 7 \\
  \hline A3 & Отказоустойчивость & 7 & 5 & 1 & 8 \\
  \hline A4 & Интерфейсы управления & 1/3 & 1/7 & 1/8 & 1 \\
  \hline
  \end{tabular}
\end{table}

\subsection{Вычисление вектора приоритетов для матрицы парных сравнений второго уровня}

Из группы матриц попарных сравнений формируется набор локальных приоритетов, которые выражают относительное влияние множества элементов на элемент примыкающего сверху уровня.
Сначала вычислим геометрическое среднее в каждой строке матрицы A по формуле \ref{geomean}:
\begin{equation}\label{geomean}
b_i = \sqrt[n]{\prod_{k=1}^{n}a_{ik}}
\end{equation}

Проведем вычисления компонент вектора локальных приоритетов:

$b_1 = \sqrt[4]{1 \cdot 0,2 \cdot 0,1429 \cdot 3} = \sqrt[4]{0,0857} = 0,5411$

$b_2 = \sqrt[4]{5 \cdot 1 \cdot 0,2 \cdot 7} = \sqrt[4]{7} = 1,6266$

$b_3 = \sqrt[4]{7 \cdot 5 \cdot 1 \cdot 8} = \sqrt[4]{280} = 4,0906$

$b_4 = \sqrt[4]{0,3333 \cdot 0,1429 \cdot 0,125 \cdot 1} = \sqrt[4]{0,006} = 0,2783$

Просуммируем полученные значения:

$B = 0,5411 + 1,6266 + 4,0906 + 0,2783 = 6,5355$

Определим значения компонент вектора локальных приоритетов по формуле \ref{veccom}:
\begin{equation}\label{veccom}
x_i = \frac{b_i}{B}, i = \overline{1,n}
\end{equation}

Выполним расчеты:

$x_1 = \frac{b_1}{B} =\frac{0,5411}{6,5355} = 0,0828$

$x_2 = \frac{b_2}{B} =\frac{1,6266}{6,5355} = 0,2489$

$x_3 = \frac{b_3}{B} =\frac{4,0906}{6,5355} = 0,6259$

$x_4 = \frac{b_4}{B} =\frac{0,2783}{6,5355} = 0,0426$

Так как числа $b_i$ нормализуются делением каждого числа на сумму всех чисел, то должно выполняться условие 
\ref{vecsum}:
\begin{equation}\label{vecsum}
\sum_{i=1}^{n} x_i = 1, i = \overline{1,n}
\end{equation}

В итоге:

$X = 0,0828 + 0,2489 + 0,6259 + 0,0426 = 1,0002$

Погрешность в $0,0002$ допустима и является следствием округления до четвертого знака.

\subsection{Исследование на согласованность матрицы парных сравнений второго уровня}

Оценим отношение согласованности для матрицы попарных сравнений второго уровня по формуле \ref{atcon}:
\begin{equation}\label{atcon}
y_i = \sum_{i=1}^{n} a_{ik}, k = 1,2,...,n
\end{equation}

Выполним расчеты:

$y_1 = 1 + 5 + 7 + 0,3333 = 13,3333$

$y_2 = 0,2 + 1 + 5 + 0,1429 = 6,3429$

$y_3 = 0,1429 + 0,2 + 1 + 0,125 = 1,4679$

$y_4 = 3 + 7 + 8 + 1 = 19$

Вычислим наибольшее собственное значение матрицы сравнений согласно формуле \ref{maxm}:
\begin{equation}\label{maxm}
\lambda_{max} = \sum_{i=1}^{n} x_i \cdot y_i
\end{equation}
где $x_i$ --- значения компонент вектора локальных приоритетов.

$\lambda_{max} = 0,0828 \cdot 13,3333 + 0,2489 \cdot 6,3429 + 0,6259 \cdot 1,4679 + 0,0426 \cdot 19 = 1,104 + 1,5787 + 0,9188 + 0,8094  = 4,4109$

Положительная обратно-симметричная матрица является согласованной тогда и только тогда, когда порядок матрицы и ее наибольшее собственное значение совпадают ($\lambda_{max} = n$).

Если элементы положительной обратносимметричной согласованной матрицы A изменить незначительно, то максимальное собственное значение $\lambda_{max}$ также изменится незначительно.
Если $\lambda_{max} \neq n$, всегда $\lambda_{max} > n$.

Как и ожидалось:

$\lambda_{max} = 4,4109 > n = 4$

В качестве степени отклонения положительной обратно-симметричной матрицы A от согласованной матрицы принимается отношение:
\begin{equation}\label{icon}
\text{ИС} = \frac{\lambda_{max} - n}{n - 1}
\end{equation}
которое называется индексом согласованности (\hyperlink{is}{ИС}) матрицы А и является показателем близости этой матрицы к согласованной.

Вычислим индекс согласованности для данной задачи:

$\text{ИС} = \frac{4,4109 - 4}{3} = 0,137$

Теперь необходимо сравнить значение индекса согласованности со значением случайной согласованности (\hyperlink{ss}{СС}).
\begin{table}[H]
  \caption{Случайная согласованность}\label{randcon}
  \begin{tabular}{|p{4cm}|l|l|l|l|l|l|l|l|l|l|}
  \hline Размер матрицы n & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 \\
  \hline Случайная согласованность & 0 & 0 & 0,58 & 0,9 & 1,12 & 1,24 & 1,32 & 1,41 & 1,45 & 1,49 \\
  \hline
  \end{tabular}
\end{table}

Если разделить индекс согласованности на число, соответствующее случайной согласованности матрицы того же порядка, получается отношение согласованности (\hyperlink{ots}{ОС}) \ref{acon}:
\begin{equation}\label{acon}
\text{ОС} = \frac{\text{ИС}}{\text{СС}} \cdot 100\%
\end{equation}

Величина отношения согласованности должна быть порядка 10\% или менее, чтобы быть приемлемой.
На практике же допускается значение, не превышающее 20\% \cite{mai}.
Если значение отношения согласованности выходит из этих пределов, то экспертам нужно исследовать задачу и пересмотреть суждения:

$\text{ОС} = \frac{0,137}{0,9} \cdot 100\% = 15,2\%$

Полученное значение $\text{ОС} = 15,2\% < 20\%$.
Считаем, что матрица попарных сравнений второго уровня является согласованной.

Оценки предпочтений критериев лица принимающего решение (\hyperlink{lpr}{ЛПР}) представлены в табл. \ref{marks}.
\begin{table}[H]
  \caption{Численные оценки предпочтений критериев ЛПР}\label{marks}
  \begin{tabular}{|l|l|l|l|}
  \hline \multicolumn{2}{|c|}{Критерии} & Место & Вес \\
  \hline A3 & Отказоустойчивость & 1 & 0,6259 \\
  \hline A2 & Масштабируемость & 2 & 0,2489 \\
  \hline A1 & Цена & 3 & 0,0828 \\
  \hline A4 & Интерфейсы управления & 4 & 0,0426 \\
  \hline
  \end{tabular}
\end{table}

Исходя из вычисленных значений численных оценок предпочтения делаем вывод, что критерий <<Отказоустойчивость>> является наиболее важным.
Критерий <<Масштабирование>> имеет существенный вес, а критерии <<Цена>> и <<Интерфейсы управления>> малозначимы.

\subsection{Построение матриц попарных сравнений третьего уровня}

На третьем уровне МАИ для каждого критерия проводятся попарные сравнения альтернатив и реализуются этап синтеза локальных приоритетов $z_j$ (j --- номер альтернативы, $j = \overline{1,m}$ в нашем примере $m = 3$) в соответствии с
формулами (4.1)...(4.8).
Также проводится исследование матрицы на согласованность \cite{var-analyz}.

\subsubsection{Критерий <<Отказоустойчивость>>}

-----------------------------------------------------------------------------------------

В таблице 4.5 проведены попарные сравнения альтернатив по критерию А1 <<Доступность>>.
\begin{table}[H]
  \caption{Матрица попарных сравнений для критерия <<Доступность>>}
  \begin{tabular}{|l|l|l|l|}
  \hline Альтернатива & M1 & M2 & M3 \\
  \hline M1 & 1 & 1/5 & 1,5 \\
  \hline M2 & 5 & 1 & 1 \\
  \hline M3 & 5 & 1 & 1 \\
  \hline
  \end{tabular}
\end{table}

Согласно формуле (4.1) вычислим сравнительную желательность альтернатив по первому критерию:

$b_1 = \sqrt[3]{1 \cdot 0,2 \cdot 0,2} = \sqrt[3]{0,4} = 0,7368$

$b_2 = \sqrt[3]{5 \cdot 1 \cdot 1} = \sqrt[3]{5} = 1,7099$

$b_3 = \sqrt[3]{5 \cdot 1 \cdot 1} = \sqrt[3]{5} = 1,7099$

Просуммируем полученные значения:

$B = 0,7368+ 1,7099 + 1,7099 = 4,1566$

Далее воспользуемся формулой (4.2), заменив идентификаторы $x_i$ на $z_j$:

$z_1 = \frac{0,7368}{4,1566} = 0,1773$

$z_2 = \frac{1,7099}{4,1566} = 0,4114$

$z_3 = \frac{1,7099}{4,1566} = 0,4114$

Проведем проверку по формуле (4.3):

$\sum_{i=1}^{3} 0,1773 + 0,4114 + 0,4114 = 1,0001$

Необходимо оценить погрешность вычислений по формуле (4.4):

$\delta_{x} = \frac{|1 - 1,0001|}{1} \cdot 100\% = 0,01$

Оценим отношение согласованности для матрицы попарных сравнений второго уровня по формуле 4.5:

$y_1 = 1 + 5 + 5 = 11$

$y_2 = 0,2 + 1 + 1 = 2,2$

$y_3 = 0,2 + 1 + 1 = 2,2$

Вычислим наибольшее собственное значение матрицы сравнений согласно (4.6):

$\lambda_{max} = 0,1773 \cdot 11 + 0,4114 \cdot  2,2 + 20,4114 \cdot 2,2 = 1,1503 + 0,9551 + 0,9551 = 3,0685$

Вычислим индекс согласованности для данной матрицы:

$\text{ИС} = \frac{3,0685 - 3}{2} = 0,0343$

Далее найдем отношение согласованности:

$\text{ОС} = \frac{0,0343}{0,58} \cdot 100\% = 5,90\%$

Полученное значение $\text{ОС} = 5,90\% < 10\%$.
Считаем, что матрица парных сравнений третьего уровня по критерию А1 является согласованной.

\subsubsection{Критерий <<Масштабируемость>>}

\subsubsection{Критерий <<Цена>>}

\subsubsection{Критерий <<Интерфейсы управления>>}

\subsection{Анализ результатов оценки альтернатив}

\subsection{Синтез глобальных приоритетов альтернатив}

\subsection{Анализ результатов}

\clearpage
